---
phase: 02-core-screens
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - pnpm-lock.yaml
  - src/components/ui/chart.tsx
  - src/components/ui/select.tsx
  - src/components/ui/tabs.tsx
  - src/components/ui/popover.tsx
  - src/components/ui/scroll-area.tsx
  - src/components/ui/progress.tsx
  - src/components/ui/checkbox.tsx
  - src/data/demo/compliance-requirements.json
  - src/lib/icons.ts
autonomous: true

must_haves:
  truths:
    - "recharts, @tanstack/react-table, and react-is are installed and importable"
    - "shadcn chart component (ChartContainer, ChartConfig, ChartTooltip) is available"
    - "shadcn select, tabs, popover, scroll-area, progress, checkbox components are available"
    - "Demo data contains 50+ compliance requirements with all required fields"
    - "Icons barrel export includes all icons needed for Phase 2 components"
  artifacts:
    - path: "src/components/ui/chart.tsx"
      provides: "ChartContainer, ChartTooltip, ChartTooltipContent, ChartConfig, ChartLegend, ChartLegendContent"
    - path: "src/components/ui/select.tsx"
      provides: "Select, SelectContent, SelectItem, SelectTrigger, SelectValue"
    - path: "src/components/ui/progress.tsx"
      provides: "Progress component"
    - path: "src/data/demo/compliance-requirements.json"
      provides: "50+ compliance requirements with summary"
  key_links:
    - from: "package.json"
      to: "node_modules"
      via: "pnpm install"
      pattern: "recharts.*react-table.*react-is"
---

<objective>
Install all npm dependencies and shadcn/ui components needed for Phase 2, expand demo compliance data to 50+ requirements, and add missing icons to the barrel export.

Purpose: Phase 2 builds charts (Recharts via shadcn ChartContainer), data tables (TanStack Table), and uses 7 new shadcn/ui primitives. All must be installed before component development begins. The compliance data must be expanded from 15 to 50+ requirements to satisfy COMP-01.

Output: Updated package.json with 3 new npm deps, 7 new shadcn/ui component files, expanded compliance-requirements.json, updated icons.ts.
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/02-core-screens/02-RESEARCH.md
@src/data/demo/compliance-requirements.json
@src/data/rbi-regulations/compliance-requirements.json
@src/types/index.ts
@src/lib/icons.ts
@src/data/index.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install npm dependencies and shadcn/ui components</name>
  <files>
    package.json
    pnpm-lock.yaml
    src/components/ui/chart.tsx
    src/components/ui/select.tsx
    src/components/ui/tabs.tsx
    src/components/ui/popover.tsx
    src/components/ui/scroll-area.tsx
    src/components/ui/progress.tsx
    src/components/ui/checkbox.tsx
  </files>
  <action>
    1. Install npm dependencies (MUST include react-is — Recharts 3.7.0 requires it as peer dep, pnpm is strict):
       ```bash
       pnpm add recharts @tanstack/react-table react-is
       ```

    2. Install shadcn/ui chart component — this provides ChartContainer, ChartTooltip, ChartTooltipContent, ChartConfig, ChartLegend, ChartLegendContent. ALL charts in Phase 2 MUST use ChartContainer instead of raw ResponsiveContainer:
       ```bash
       npx shadcn@latest add chart --yes --overwrite
       ```

    3. Install 6 additional shadcn/ui primitives:
       ```bash
       npx shadcn@latest add select tabs popover scroll-area progress checkbox --yes --overwrite
       ```

    4. Verify installation:
       - Confirm `recharts`, `@tanstack/react-table`, `react-is` appear in package.json dependencies
       - Confirm `src/components/ui/chart.tsx` exists and exports `ChartContainer`, `ChartTooltip`, `ChartTooltipContent`
       - Confirm all 7 component files exist in `src/components/ui/`
       - Run `pnpm build` to confirm no dependency conflicts

    CRITICAL: react-is MUST be installed explicitly alongside recharts. Without it, pnpm will error on peer dep resolution.
  </action>
  <verify>
    ```bash
    grep '"recharts"' package.json && grep '"@tanstack/react-table"' package.json && grep '"react-is"' package.json
    grep 'ChartContainer' src/components/ui/chart.tsx
    ls src/components/ui/chart.tsx src/components/ui/select.tsx src/components/ui/tabs.tsx src/components/ui/popover.tsx src/components/ui/scroll-area.tsx src/components/ui/progress.tsx src/components/ui/checkbox.tsx
    pnpm build
    ```
  </verify>
  <done>
    - recharts, @tanstack/react-table, and react-is are in package.json dependencies
    - All 7 shadcn/ui components exist in src/components/ui/
    - ChartContainer, ChartTooltip, ChartTooltipContent, and ChartConfig are exported from chart.tsx
    - pnpm build passes
  </done>
</task>

<task type="auto">
  <name>Task 2: Expand compliance requirements to 50+ and update icons</name>
  <files>
    src/data/demo/compliance-requirements.json
    src/lib/icons.ts
  </files>
  <action>
    **1. Expand compliance requirements to 50+:**

    Read `src/data/rbi-regulations/compliance-requirements.json` to understand available RBI requirements from the knowledge base. Then expand `src/data/demo/compliance-requirements.json` from 15 to 50+ requirements.

    Each requirement MUST match the existing `ComplianceRequirement` type from `src/types/index.ts`:
    ```typescript
    {
      id: string,           // e.g., "GOV-016", "RISK-008"
      categoryId: string,   // One of: "risk-management", "governance", "operations", "it", "credit", "market-risk"
      title: string,
      description: string,
      reference: string,    // RBI circular reference
      status: "compliant" | "partial" | "non-compliant" | "pending",
      dueDate: string,      // ISO 8601 date
      evidenceCount: number,
      assignedTo: string,   // Staff member ID from staff.json (STAFF-001 through STAFF-012)
      assignedToName: string,
      priority: "critical" | "high" | "medium" | "low",
      lastReviewDate: string,
      nextReviewDate: string,
      notes: string,
      createdAt: string,
      updatedAt: string
    }
    ```

    Distribution guidelines for 50 requirements:
    - Categories: ~8-10 per category across 6 categories (risk-management, governance, operations, it, credit, market-risk)
    - Status: ~25 compliant, ~10 partial, ~10 non-compliant, ~5 pending (realistic UCB distribution)
    - Priority: ~5 critical, ~15 high, ~20 medium, ~10 low
    - Assigned to: distribute across staff IDs from staff.json (STAFF-001 through STAFF-012)
    - Due dates: spread across 2025-2026 calendar year
    - Evidence counts: 0-8 per requirement (0 for pending, higher for compliant)

    Update the `summary` object to match the new totals. Ensure `summary.categories` and `summary.priorityDistribution` objects reflect actual counts.

    Use realistic UCB compliance topics drawn from the RBI knowledge base:
    - Governance: Board composition, audit committee, KYC policy, whistleblower mechanism, fit & proper criteria
    - Risk Management: CRAR maintenance, ALM reporting, stress testing, provisioning norms, risk appetite
    - Operations: Cash management, clearing house, deposit insurance (DICGC), priority sector lending, PMJDY
    - IT: Cyber security framework, business continuity, DPSS compliance, outsourcing policy, IT governance
    - Credit: Exposure norms, NPA classification, loan review mechanism, consortium lending, gold loan policy
    - Market Risk: Investment policy, SLR maintenance, interest rate risk, forex limits, derivatives guidelines

    **2. Add missing icons to barrel export:**

    Add these icons to `src/lib/icons.ts` (needed by Phase 2 components). Only add icons NOT already present:
    ```
    ArrowUpDown      - TanStack Table sort indicators
    Plus             - Quick action buttons
    Filter           - Filter controls
    Target           - Risk indicator
    Gauge            - Health score gauge
    CalendarDays     - Regulatory calendar
    Briefcase        - Audit type icon
    Loader2          - Loading states
    ChevronLeft      - Navigation
    ChevronUp        - Collapse toggle
    ExternalLink     - Circular references
    ListFilter       - Filter bar
    MoreHorizontal   - Row actions
    Zap              - Quick actions
    LayoutGrid       - Card view toggle
    UserCircle       - Team members
    PauseCircle      - On-hold status
    ArrowRight       - View all links
    ```
  </action>
  <verify>
    ```bash
    node -e "const d = require('./src/data/demo/compliance-requirements.json'); console.log('Requirements:', d.complianceRequirements.length, 'Summary total:', d.summary.total)"
    node -e "const d = require('./src/data/demo/compliance-requirements.json'); const r = d.complianceRequirements; const counts = {compliant: r.filter(x=>x.status==='compliant').length, partial: r.filter(x=>x.status==='partial').length, 'non-compliant': r.filter(x=>x.status==='non-compliant').length, pending: r.filter(x=>x.status==='pending').length}; console.log('Actual:', counts, 'Summary:', {compliant: d.summary.compliant, partial: d.summary.partial, 'non-compliant': d.summary['non-compliant'], pending: d.summary.pending})"
    grep 'ArrowUpDown' src/lib/icons.ts && grep 'Gauge' src/lib/icons.ts && grep 'LayoutGrid' src/lib/icons.ts
    pnpm build
    ```
  </verify>
  <done>
    - compliance-requirements.json has 50+ requirements
    - Summary counts match actual requirement counts by status
    - All 6 categories are represented with 8-10 requirements each
    - icons.ts includes all icons needed for Phase 2 components
    - pnpm build passes
  </done>
</task>

</tasks>

<verification>
1. `pnpm build` succeeds without errors
2. `grep '"recharts"' package.json` shows recharts installed
3. `src/components/ui/chart.tsx` exists and exports ChartContainer, ChartConfig
4. `src/data/demo/compliance-requirements.json` has 50+ entries
5. Summary object matches actual data counts
6. All new icons are importable from `@/lib/icons`
</verification>

<success_criteria>
- 3 npm packages installed (recharts, @tanstack/react-table, react-is)
- 7 shadcn/ui components installed (chart, select, tabs, popover, scroll-area, progress, checkbox)
- 50+ compliance requirements in demo data with correct type shape and realistic UCB content
- Icons barrel export updated with all Phase 2 needed icons
- pnpm build passes
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-screens/02-01-SUMMARY.md`
</output>
