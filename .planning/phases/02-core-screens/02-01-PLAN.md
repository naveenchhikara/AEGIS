---
phase: 02-core-screens
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/components/ui/table.tsx
  - src/components/ui/dialog.tsx
  - src/components/ui/drawer.tsx
  - src/components/ui/badge.tsx
  - src/components/ui/progress.tsx
  - src/components/ui/select.tsx
  - src/components/ui/separator.tsx
  - src/hooks/use-media-query.ts
  - src/lib/status-utils.ts
autonomous: true

must_haves:
  truths:
    - Recharts library installed for chart visualizations
    - TanStack Table installed for advanced table features
    - react-big-calendar installed for calendar views
    - All required shadcn/ui components installed
    - Status badge utilities created for consistent colors
    - Media query hook created for responsive patterns
  artifacts:
    - path: "package.json"
      provides: "Project dependencies"
      contains: "recharts, @tanstack/react-table, react-big-calendar, date-fns"
    - path: "src/components/ui/table.tsx"
      provides: "Table component"
      exports: ["Table", "TableHeader", "TableBody", "TableRow", "TableCell"]
    - path: "src/components/ui/dialog.tsx"
      provides: "Dialog component"
      exports: ["Dialog", "DialogContent", "DialogHeader", "DialogTitle"]
    - path: "src/components/ui/drawer.tsx"
      provides: "Drawer component"
      exports: ["Drawer", "DrawerContent", "DrawerHeader", "DrawerTitle"]
    - path: "src/components/ui/badge.tsx"
      provides: "Badge component"
      exports: ["Badge", "badgeVariants"]
    - path: "src/components/ui/progress.tsx"
      provides: "Progress component"
      exports: ["Progress"]
    - path: "src/components/ui/select.tsx"
      provides: "Select component"
      exports: ["Select", "SelectContent", "SelectItem", "SelectTrigger"]
    - path: "src/components/ui/separator.tsx"
      provides: "Separator component"
      exports: ["Separator"]
    - path: "src/hooks/use-media-query.ts"
      provides: "Media query hook for responsive detection"
      exports: ["useMediaQuery"]
    - path: "src/lib/status-utils.ts"
      provides: "Status badge utilities for consistent colors"
      exports: ["ComplianceStatusBadge", "AuditStatusBadge", "SeverityBadge"]
  key_links:
    - from: "src/components/dashboard/*"
      to: "src/lib/status-utils.ts"
      via: "status badge imports"
      pattern: "import.*StatusBadge"
    - from: "src/components/compliance/*"
      to: "@tanstack/react-table"
      via: "useReactTable hook"
      pattern: "useReactTable"
    - from: "src/components/audits/*"
      to: "react-big-calendar"
      via: "Calendar import"
      pattern: "Calendar.*localizer"
---

<objective>
Install Phase 2 dependencies and shared infrastructure components.

Purpose: Set up the visualization libraries, table framework, calendar components, and UI components needed for building the three core screens (Dashboard, Compliance Registry, Audit Plan). Also create shared utilities for status badges and responsive patterns.

Output: All dependencies installed, shadcn/ui components added, shared hooks and utilities created
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-core-screens/02-RESEARCH.md
@.planning/phases/01-project-setup/01-01-SUMMARY.md
@.planning/phases/01-project-setup/01-03-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install chart, table, and calendar libraries</name>
  <files>package.json</files>
  <action>
    Install visualization and data management libraries:

    1. Install Recharts for charts:
       pnpm add recharts

    2. Install TanStack Table for advanced table features:
       pnpm add @tanstack/react-table

    3. Install react-big-calendar and date-fns:
       pnpm add react-big-calendar date-fns

    Verify all packages appear in package.json dependencies.

    Note: Per research, Recharts is React-native with excellent TypeScript support, TanStack Table is industry standard for table state, react-big-calendar provides full-featured calendar views.
  </action>
  <verify>package.json contains recharts, @tanstack/react-table, react-big-calendar, date-fns</verify>
  <done>Visualization and table libraries installed</done>
</task>

<task type="auto">
  <name>Task 2: Install shadcn/ui components for Phase 2</name>
  <files>src/components/ui/table.tsx, src/components/ui/dialog.tsx, src/components/ui/drawer.tsx, src/components/ui/badge.tsx, src/components/ui/progress.tsx, src/components/ui/select.tsx, src/components/ui/separator.tsx</files>
  <action>
    Install required shadcn/ui components:

    Run these commands sequentially:
    1. pnpm dlx shadcn@latest add table --yes
    2. pnpm dlx shadcn@latest add dialog --yes
    3. pnpm dlx shadcn@latest add drawer --yes
    4. pnpm dlx shadcn@latest add badge --yes
    5. pnpm dlx shadcn@latest add progress --yes
    6. pnpm dlx shadcn@latest add select --yes
    7. pnpm dlx shadcn@latest add separator --yes

    Each command creates component file in src/components/ui/.

    Verify all component files exist after installation.
  </action>
  <verify>All 7 component files exist in src/components/ui/ directory</verify>
  <done>UI components installed: table, dialog, drawer, badge, progress, select, separator</done>
</task>

<task type="auto">
  <name>Task 3: Create media query hook for responsive patterns</name>
  <files>src/hooks/use-media-query.ts</files>
  <action>
    Create src/hooks/ directory and use-media-query.ts:

    Add "use client" directive.

    Create hook that detects media query matches:
    - Import useEffect, useState from 'react'
    - Export function useMediaQuery(query: string)
    - Use matchMedia API to detect query
    - Add event listener for changes
    - Return boolean value

    Full implementation per RESEARCH.md Pattern 5.

    This enables responsive Dialog (desktop) vs Drawer (mobile) pattern.
  </action>
  <verify>File exists at src/hooks/use-media-query.ts with useMediaQuery hook</verify>
  <done>Media query hook created for responsive component switching</done>
</task>

<task type="auto">
  <name>Task 4: Create status badge utilities</name>
  <files>src/lib/status-utils.ts</files>
  <action>
    Create src/lib/status-utils.ts with consistent badge components:

    1. Import Badge, cn from @/components/ui/badge, @/lib/utils
    2. Create ComplianceStatusBadge with variants:
       - compliant: 'default' (green)
       - partial: 'secondary' (yellow)
       - non-compliant: 'destructive' (red)
       - pending: 'outline' (gray)

    3. Create AuditStatusBadge with colors:
       - not-started: 'bg-gray-500'
       - in-progress: 'bg-blue-500'
       - on-hold: 'bg-orange-500'
       - complete: 'bg-green-500'

    4. Create SeverityBadge with colors:
       - critical: 'bg-red-600'
       - high: 'bg-orange-500'
       - medium: 'bg-yellow-500'
       - low: 'bg-green-500'

    Export all three badge components.

    Per RESEARCH.md Pattern 7 - centralized badge utilities prevent inconsistent colors across screens.
  </action>
  <verify>File exports ComplianceStatusBadge, AuditStatusBadge, SeverityBadge</verify>
  <done>Status badge utilities created for consistent color coding</done>
</task>

</tasks>

<verification>
- package.json includes recharts, @tanstack/react-table, react-big-calendar, date-fns
- All 7 shadcn/ui component files exist in src/components/ui/
- useMediaQuery hook exists and exports correctly
- Status badge utilities export 3 components with correct color mappings
- TypeScript compiles without errors
</verification>

<success_criteria>
- Recharts installed for donut and line charts
- TanStack Table installed for sorting/filtering
- react-big-calendar installed for calendar views
- 7 UI components installed (table, dialog, drawer, badge, progress, select, separator)
- useMediaQuery hook created for responsive patterns
- Status badge utilities created for consistent colors across all screens
</success_criteria>

<output>
After completion, create `.planning/phases/02-core-screens/02-01-SUMMARY.md`
</output>
