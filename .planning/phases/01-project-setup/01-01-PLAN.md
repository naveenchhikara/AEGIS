---
phase: 01-project-setup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/app/globals.css
  - src/lib/utils.ts
  - src/lib/icons.ts
  - src/types/index.ts
  - src/components/ui/button.tsx
  - src/components/ui/input.tsx
  - src/components/ui/label.tsx
  - src/components/ui/card.tsx
  - src/components/ui/sidebar.tsx
  - src/components/ui/dropdown-menu.tsx
  - src/components/ui/separator.tsx
  - src/components/ui/sheet.tsx
  - src/components/ui/skeleton.tsx
  - src/components/ui/tooltip.tsx
  - src/components/ui/dialog.tsx
autonomous: true

must_haves:
  truths:
    - "TypeScript types exist for all domain models (Bank, Staff, Branch, AuditPlan, Finding, ComplianceRequirement, RbiCircular)"
    - "cn() utility function works for Tailwind class merging"
    - "shadcn/ui components are available for import from @/components/ui/"
    - "CSS variables for theming (colors, radius, fonts) are defined in globals.css"
    - "Icon re-exports available from @/lib/icons"
  artifacts:
    - path: "src/types/index.ts"
      provides: "All domain TypeScript types"
      min_lines: 80
    - path: "src/lib/utils.ts"
      provides: "cn() utility for Tailwind class merging"
      exports: ["cn"]
    - path: "src/lib/icons.ts"
      provides: "Lucide icon re-exports"
      min_lines: 10
    - path: "src/app/globals.css"
      provides: "Tailwind directives, CSS custom properties for shadcn/ui theming"
      contains: "--background"
    - path: "src/components/ui/button.tsx"
      provides: "Button component"
  key_links:
    - from: "src/lib/utils.ts"
      to: "clsx, tailwind-merge"
      via: "import"
      pattern: "import.*clsx|tailwind-merge"
    - from: "src/components/ui/button.tsx"
      to: "src/lib/utils.ts"
      via: "cn import"
      pattern: "import.*cn.*from.*@/lib/utils"
---

<objective>
Rebuild the foundational code layer: TypeScript types, utility functions, CSS theming, shadcn/ui components, and icon re-exports.

Purpose: Everything else (layouts, pages, components) depends on these foundational pieces. The prior codebase was deleted in commit e735e42, so this rebuilds the base layer from scratch using the same decisions (Tailwind v4, shadcn/ui new-york style, @/\* path aliases).

Output: Working foundation that compiles without errors, ready for layouts and pages to build on top.
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

Key accumulated decisions:

- Tailwind CSS v4 with native CSS variables for theming
- shadcn/ui "new-york" style variant
- Path alias @/_ maps to ./src/_
- Icon import pattern: @/lib/icons for single import source
- Type export pattern: All domain types from src/types/index.ts
- ISO 8601 date strings (not Date objects)

Existing config files (DO NOT modify):

- tailwind.config.ts (already configured with shadcn/ui color mappings)
- components.json (shadcn/ui config: new-york style, lucide icons)
- tsconfig.json (path aliases configured)
- package.json (all deps installed: radix, cva, clsx, tailwind-merge, lucide-react)
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Create globals.css, lib/utils.ts, lib/icons.ts, and types/index.ts</name>
  <files>
    src/app/globals.css
    src/lib/utils.ts
    src/lib/icons.ts
    src/types/index.ts
  </files>
  <action>
    Create four foundational files:

    1. **src/app/globals.css** -- Tailwind v4 CSS with shadcn/ui theme variables:
       - `@import "tailwindcss"` at top (Tailwind v4 syntax)
       - `@plugin "tailwindcss-animate"` for animations
       - `@custom-variant dark (&:is(.dark *))` for dark mode
       - `:root` block with all shadcn/ui CSS custom properties (new-york style, neutral base color):
         - `--background`, `--foreground`, `--card`, `--card-foreground`, `--popover`, `--popover-foreground`
         - `--primary`, `--primary-foreground`, `--secondary`, `--secondary-foreground`
         - `--muted`, `--muted-foreground`, `--accent`, `--accent-foreground`
         - `--destructive`, `--destructive-foreground`
         - `--border`, `--input`, `--ring`
         - `--radius: 0.5rem`
         - `--chart-1` through `--chart-5`
         - `--sidebar-*` variables (background, foreground, primary, accent, border, ring)
       - `.dark` block with dark mode values
       - `@theme inline` block mapping CSS vars to Tailwind theme tokens (colors, border-radius)
       - Base layer with `body { @apply bg-background text-foreground; }`

    2. **src/lib/utils.ts** -- Tailwind class merging utility:
       ```typescript
       import { type ClassValue, clsx } from "clsx";
       import { twMerge } from "tailwind-merge";

       export function cn(...inputs: ClassValue[]) {
         return twMerge(clsx(inputs));
       }
       ```

    3. **src/lib/icons.ts** -- Re-export commonly used lucide-react icons:
       ```typescript
       export {
         // Navigation
         LayoutDashboard, Shield, ClipboardCheck, Search, FileText, BarChart3, Settings,
         // Actions
         Plus, Edit, Trash2, Download, Upload, ExternalLink,
         // Status
         CheckCircle2, AlertTriangle, XCircle, Clock, ArrowUpRight,
         // UI
         Menu, X, ChevronDown, ChevronRight, ChevronLeft, LogOut, User, Bell, Globe,
         // Domain
         Building2, Users, Calendar, FileWarning, TrendingUp,
         // Misc
         Loader2, Eye, EyeOff, Lock,
       } from "lucide-react";
       ```

    4. **src/types/index.ts** -- Domain type definitions matching demo data JSON structure:
       - `BankProfile` -- id, name, type, tier, registrationNumber, city, state, businessMix, departments, etc.
       - `Staff` -- id, name, email, role, department, isActive, phone
       - `Branch` -- id, name, code, address, city, manager, isHeadOffice, status
       - `ComplianceRequirement` -- id, category, title, description, status ("compliant" | "partial" | "non-compliant" | "pending"), dueDate, evidence, assignedTo, regulatoryReference
       - `AuditPlan` -- id, title, type, branch, department, status ("planned" | "in-progress" | "completed" | "on-hold" | "cancelled"), startDate, endDate, team, progress, findings
       - `Finding` -- id, auditId, title, category, severity ("critical" | "high" | "medium" | "low"), status, observation, rootCause, riskImpact, auditeeResponse, actionPlan, assignedAuditor, targetDate, createdAt, updatedAt, timeline
       - `TimelineEntry` -- id, date, action, actor
       - `RbiCircular` -- id, number, title, date, category, description, url
       - `ComplianceCalendarEvent` -- id, title, category, dueDate, status, description, regulatoryReference

       All types should use `string` for dates (ISO 8601 format per accumulated decision).
       Examine the actual demo JSON files to ensure types match exactly.

    Ensure directories exist before creating files (mkdir -p src/app, src/lib, src/types).

  </action>
  <verify>
    Run `npx tsc --noEmit --pretty` from project root. Should compile without errors.
    Verify files exist: `ls src/app/globals.css src/lib/utils.ts src/lib/icons.ts src/types/index.ts`
  </verify>
  <done>
    All four foundational files exist and TypeScript compiles without errors. Types match the shape of existing demo JSON data.
  </done>
</task>

<task type="auto">
  <name>Task 2: Reinstall shadcn/ui components</name>
  <files>
    src/components/ui/button.tsx
    src/components/ui/input.tsx
    src/components/ui/label.tsx
    src/components/ui/card.tsx
    src/components/ui/sidebar.tsx
    src/components/ui/dropdown-menu.tsx
    src/components/ui/separator.tsx
    src/components/ui/sheet.tsx
    src/components/ui/skeleton.tsx
    src/components/ui/tooltip.tsx
    src/components/ui/dialog.tsx
  </files>
  <action>
    Reinstall shadcn/ui components using the CLI. The components.json is already configured correctly (new-york style, lucide icons, correct aliases).

    Run the following commands from the project root:
    ```bash
    mkdir -p src/components/ui src/hooks
    npx shadcn@latest add button input label card sidebar dropdown-menu separator sheet skeleton tooltip dialog --yes --overwrite
    ```

    The `--yes` flag accepts defaults. The `--overwrite` flag replaces any existing files.

    After installation, verify each component file:
    - Imports `cn` from `@/lib/utils`
    - Uses `cva` from `class-variance-authority` where needed
    - Uses Radix UI primitives for complex components

    If the sidebar component creates additional hooks or lib files (like useSidebar, useMobile), keep them -- they are needed for the dashboard layout.

    Note: The shadcn CLI may also create src/hooks/use-mobile.tsx and modify src/lib/utils.ts. This is expected and fine.

  </action>
  <verify>
    Run `npx tsc --noEmit --pretty` -- should compile without errors.
    Run `ls src/components/ui/` -- should show all 11 component files.
    Spot-check: `head -5 src/components/ui/button.tsx` should show proper imports.
  </verify>
  <done>
    All 11 shadcn/ui components installed, TypeScript compiles, components import cn() from @/lib/utils correctly.
  </done>
</task>

</tasks>

<verification>
1. `npx tsc --noEmit --pretty` passes with zero errors
2. All files exist:
   - src/app/globals.css
   - src/lib/utils.ts
   - src/lib/icons.ts
   - src/types/index.ts
   - src/components/ui/ contains 11+ component files
3. `grep -l "cn" src/components/ui/button.tsx` confirms cn utility is wired
4. `grep "@import" src/app/globals.css` confirms Tailwind v4 import
</verification>

<success_criteria>

- TypeScript compiles with zero errors
- 11 shadcn/ui components available for import
- CSS theme variables defined for both light and dark modes
- Domain types match existing demo data JSON structure
- cn() utility works for class merging
- Icon re-exports available from @/lib/icons
  </success_criteria>

<output>
After completion, create `.planning/phases/01-project-setup/01-01-SUMMARY.md`
</output>
