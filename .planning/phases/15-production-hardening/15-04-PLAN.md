---
phase: 15-production-hardening
plan: 04
type: execute
wave: 2
depends_on: ["15-03"]
files_modified:
  - src/data/index.ts
  - src/data/demo/bank-profile.json
  - src/data/demo/staff.json
  - src/data/demo/branches.json
  - src/data/demo/compliance-requirements.json
  - src/data/demo/audit-plans.json
  - src/data/demo/findings.json
  - src/data/demo/rbi-circulars.json
  - prisma/seed.ts
autonomous: true

must_haves:
  truths:
    - "Demo JSON files live in src/data/seed/ directory (not src/data/demo/)"
    - "src/data/index.ts only exports RBI regulation data (no demo data exports)"
    - "prisma/seed.ts imports demo data from src/data/seed/ paths"
    - "No app code imports demo data at runtime from @/data barrel"
    - "Locale-specific demo data directories (hi/, mr/, gu/) are deleted"
    - "Application builds and starts successfully after migration"
  artifacts:
    - path: "src/data/seed/bank-profile.json"
      provides: "Demo bank profile for seed scripts only"
    - path: "src/data/seed/staff.json"
      provides: "Demo staff data for seed scripts only"
    - path: "src/data/index.ts"
      provides: "Barrel export for RBI regulations only"
      contains: "regulations"
  key_links:
    - from: "prisma/seed.ts"
      to: "src/data/seed/"
      via: "import from seed directory"
      pattern: "data/seed"
---

<objective>
Move demo JSON files from src/data/demo/ to src/data/seed/, clean up the barrel export, update seed script imports, and delete unused locale-specific demo data.

Purpose: Physically isolate demo/seed data from runtime application code. Prevent demo data from leaking into production bundles and make the separation between seed data and application data explicit.
Output: Demo JSON in src/data/seed/, barrel export cleaned, locale demo data deleted.
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/15-production-hardening/15-RESEARCH.md
@.planning/phases/15-production-hardening/15-03-SUMMARY.md
@src/data/index.ts
@prisma/seed.ts
</context>

<tasks>

<task type="auto">
  <name>Task 1: Move demo JSON files to seed directory and delete locale demo data</name>
  <files>
    src/data/demo/bank-profile.json
    src/data/demo/staff.json
    src/data/demo/branches.json
    src/data/demo/compliance-requirements.json
    src/data/demo/audit-plans.json
    src/data/demo/findings.json
    src/data/demo/rbi-circulars.json
  </files>
  <action>
    1. Create seed directory: `mkdir -p src/data/seed`

    2. Move all demo JSON files to seed directory:
       ```bash
       mv src/data/demo/bank-profile.json src/data/seed/
       mv src/data/demo/staff.json src/data/seed/
       mv src/data/demo/branches.json src/data/seed/
       mv src/data/demo/compliance-requirements.json src/data/seed/
       mv src/data/demo/audit-plans.json src/data/seed/
       mv src/data/demo/findings.json src/data/seed/
       mv src/data/demo/rbi-circulars.json src/data/seed/
       ```

    3. Delete locale-specific demo data directories (no longer used since v2.0 — all data comes from DB):
       ```bash
       rm -rf src/data/demo/hi
       rm -rf src/data/demo/mr
       rm -rf src/data/demo/gu
       ```

    4. Delete the now-empty `src/data/demo/` directory:
       ```bash
       rmdir src/data/demo
       ```

  </action>
  <verify>
    - `ls src/data/seed/*.json | wc -l` returns 7 (all demo JSON files moved)
    - `! test -d src/data/demo` — demo directory is deleted
  </verify>
  <done>
    All 7 demo JSON files moved to src/data/seed/. Locale dirs (hi/, mr/, gu/) and demo/ directory deleted.
  </done>
</task>

<task type="auto">
  <name>Task 2: Update barrel export and seed script imports, verify app works</name>
  <files>
    src/data/index.ts
    prisma/seed.ts
  </files>
  <action>
    1. Update `src/data/index.ts` — barrel export should point demo data imports to new seed/ paths:

       IMPORTANT: The 11 app files that currently import demo data from `@/data` (like `bankProfile`, `auditPlans`, `findings`, `demoComplianceRequirements`) are PROTOTYPE-ERA code that still renders hardcoded demo data on dashboard widgets and pages. Removing these exports NOW would break the prototype views.

       APPROACH: Keep the barrel export working but pointing to the NEW seed location:
       - Update demo data exports to point to "./seed/..." instead of "./demo/..."
       - Add a comment block marking these exports as deprecated
       - Keep RBI regulation exports unchanged

       The index.ts should look like:
       ```typescript
       // ============================================================================
       // AEGIS Platform - Data Exports
       // ============================================================================
       // RBI Regulations data for runtime use.
       // Demo/seed data exports below are DEPRECATED — prototype views still depend
       // on them. Migrate to database-backed queries in a future phase.
       // ============================================================================

       // RBI Regulations Data (production)
       export { regulations } from "./rbi-regulations/index";
       export { chapters } from "./rbi-regulations/chapters";
       export { definitions } from "./rbi-regulations/definitions";
       export { capitalStructure } from "./rbi-regulations/capital-structure";
       export { complianceRequirements } from "./rbi-regulations/compliance-requirements";

       // DEPRECATED: Demo/seed data — prototype views only
       // TODO: Remove these exports when all pages use database queries
       export { default as bankProfile } from "./seed/bank-profile.json";
       export { default as staff } from "./seed/staff.json";
       // ... (update all demo data exports to use ./seed/ paths)
       ```

    2. Update `prisma/seed.ts` imports to use new seed paths:
       - Change `import("../src/data/demo/...")` → `import("../src/data/seed/...")`

    3. CRITICAL VERIFICATION: Run `pnpm build` to confirm the app still compiles after the migration. Then run `pnpm dev` briefly to confirm the dev server starts and demo imports resolve. This prevents silent breakage from the file moves.

  </action>
  <verify>
    - `pnpm tsc --noEmit` passes (no type errors)
    - `pnpm build` succeeds — confirms all imports resolve after file moves
    - `grep "seed/" src/data/index.ts` returns matches for demo data exports
    - `grep "seed/" prisma/seed.ts` returns matches for seed imports
    - `grep "DEPRECATED" src/data/index.ts` returns matches
  </verify>
  <done>
    Barrel export updated to reference seed/ paths with deprecation comments. Seed script imports updated. App builds and starts successfully — no broken imports from the file migration.
  </done>
</task>

</tasks>

<verification>
1. `pnpm tsc --noEmit` — no type errors
2. `pnpm build` — succeeds (confirms all imports resolve after file moves)
3. `! test -d src/data/demo` — demo directory gone
4. `ls src/data/seed/*.json | wc -l` — returns 7
5. `grep "from.*rbi-regulations" src/data/index.ts` — RBI exports present
6. `grep "DEPRECATED" src/data/index.ts` — deprecation warning present
7. `grep "seed/" prisma/seed.ts` — seed imports updated
</verification>

<success_criteria>

- Demo JSON files physically in src/data/seed/ (not src/data/demo/)
- Locale demo data directories (hi/, mr/, gu/) are deleted
- Barrel export updated with seed paths and deprecation comments
- prisma/seed.ts imports from src/data/seed/ paths
- No type errors, `pnpm build` succeeds, app functions correctly
  </success_criteria>

<output>
After completion, create `.planning/phases/15-production-hardening/15-04-SUMMARY.md`
</output>
