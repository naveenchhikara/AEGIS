---
phase: 01-project-setup
plan: 03
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/app/layout.tsx
  - src/app/(dashboard)/layout.tsx
  - src/components/layout/app-sidebar.tsx
  - src/components/layout/header.tsx
  - src/app/(dashboard)/page.tsx
autonomous: true

must_haves:
  truths:
    - "App loads at localhost:3000 with proper fonts and theming"
    - "Dashboard layout has a collapsible sidebar with 7 navigation items"
    - "Sidebar items link to: Dashboard, Compliance Registry, Audit Plan, Findings, Board Report, DAKSH Submission, Settings"
    - "Header bar shows app name/branding and placeholder user area"
    - "Root route (/) renders the dashboard layout with a placeholder dashboard page"
  artifacts:
    - path: "src/app/layout.tsx"
      provides: "Root HTML layout with Inter font, globals.css, metadata"
      exports: ["default", "metadata"]
    - path: "src/app/(dashboard)/layout.tsx"
      provides: "Dashboard shell with SidebarProvider, AppSidebar, Header"
      min_lines: 20
    - path: "src/components/layout/app-sidebar.tsx"
      provides: "Sidebar navigation with 7 menu items using shadcn/ui Sidebar"
      min_lines: 50
    - path: "src/components/layout/header.tsx"
      provides: "Top bar with branding and user area"
      min_lines: 15
    - path: "src/app/(dashboard)/page.tsx"
      provides: "Dashboard placeholder page"
  key_links:
    - from: "src/app/(dashboard)/layout.tsx"
      to: "src/components/layout/app-sidebar.tsx"
      via: "import AppSidebar"
      pattern: "import.*AppSidebar"
    - from: "src/app/(dashboard)/layout.tsx"
      to: "src/components/layout/header.tsx"
      via: "import Header"
      pattern: "import.*Header"
    - from: "src/components/layout/app-sidebar.tsx"
      to: "src/components/ui/sidebar"
      via: "shadcn/ui sidebar primitives"
      pattern: "import.*from.*@/components/ui/sidebar"
---

<objective>
Create the application shell: root layout, dashboard layout with sidebar navigation and header.

Purpose: This establishes the navigable app structure that all pages live inside. The sidebar provides the 7-item navigation (NAV-01) and the layout enables client-side routing (NAV-04). This is the frame that makes the prototype feel like a real application.

Output: Working Next.js app with dashboard layout, sidebar navigation with 7 items, header bar, and a placeholder dashboard page.
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-project-setup/01-01-SUMMARY.md

Depends on Plan 01 outputs:

- src/app/globals.css (theme CSS variables)
- src/lib/utils.ts (cn utility)
- src/lib/icons.ts (icon re-exports)
- src/components/ui/sidebar.tsx (shadcn/ui sidebar component)
- src/components/ui/button.tsx, separator.tsx, tooltip.tsx, sheet.tsx, dropdown-menu.tsx

Key decisions:

- shadcn/ui Sidebar component for navigation (provides collapsible behavior, mobile drawer)
- Inter font loaded via next/font/google
- (dashboard) route group for pages that share sidebar layout
- (auth) route group for login page (separate layout, no sidebar)
- 7 navigation items: Dashboard, Compliance Registry, Audit Plan, Findings, Board Report, DAKSH Submission, Settings

Navigation routes:

- / -> Dashboard
- /compliance -> Compliance Registry
- /audit-plan -> Audit Plan
- /findings -> Findings
- /board-report -> Board Report
- /daksh -> DAKSH Submission
- /settings -> Settings
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Create root layout and dashboard layout with sidebar</name>
  <files>
    src/app/layout.tsx
    src/app/(dashboard)/layout.tsx
    src/components/layout/app-sidebar.tsx
    src/components/layout/header.tsx
  </files>
  <action>
    Create four files:

    1. **src/app/layout.tsx** -- Root layout:
       - Import Inter font from `next/font/google`
       - Import `./globals.css`
       - Export `metadata` with title "AEGIS - Audit & Compliance Platform" and description
       - Render `<html lang="en">` with `<body className={inter.className}>` wrapping `{children}`
       - Add `suppressHydrationWarning` to html tag (prevents Radix UI hydration warnings)

    2. **src/components/layout/app-sidebar.tsx** -- Sidebar navigation component:
       - "use client" directive (sidebar uses state)
       - Import shadcn/ui Sidebar components: `Sidebar, SidebarContent, SidebarGroup, SidebarGroupContent, SidebarGroupLabel, SidebarMenu, SidebarMenuButton, SidebarMenuItem, SidebarHeader, SidebarFooter`
       - Import icons from `@/lib/icons`: LayoutDashboard, Shield, ClipboardCheck, Search, FileText, BarChart3, Settings
       - Import `Link` from `next/link` and `usePathname` from `next/navigation`
       - Define navigation items array:
         ```
         { title: "Dashboard", href: "/", icon: LayoutDashboard }
         { title: "Compliance Registry", href: "/compliance", icon: Shield }
         { title: "Audit Plan", href: "/audit-plan", icon: ClipboardCheck }
         { title: "Findings", href: "/findings", icon: Search }
         { title: "Board Report", href: "/board-report", icon: FileText }
         { title: "DAKSH Submission", href: "/daksh", icon: BarChart3 }
         { title: "Settings", href: "/settings", icon: Settings }
         ```
       - SidebarHeader should display "AEGIS" branding (text logo with the name, styled with primary color)
       - Each menu item wraps in `<Link>` and highlights when `pathname === item.href`
       - SidebarFooter with a subtle "Powered by AEGIS" or bank name placeholder

    3. **src/components/layout/header.tsx** -- Top header bar:
       - "use client" directive
       - Import `SidebarTrigger` from `@/components/ui/sidebar` for mobile menu toggle
       - Import `Separator` from `@/components/ui/separator`
       - Import icons: Bell, User from `@/lib/icons`
       - Render a header with:
         - Left: SidebarTrigger (hamburger menu for mobile), separator, breadcrumb area or page title
         - Right: Notification bell icon button, user avatar placeholder (circle with User icon)
       - Fixed at top of content area, not overlapping sidebar
       - Style: `border-b bg-background h-14 flex items-center px-4`

    4. **src/app/(dashboard)/layout.tsx** -- Dashboard shell layout:
       - Import `SidebarProvider, SidebarInset` from `@/components/ui/sidebar`
       - Import `AppSidebar` from `@/components/layout/app-sidebar`
       - Import `Header` from `@/components/layout/header`
       - Render:
         ```tsx
         <SidebarProvider>
           <AppSidebar />
           <SidebarInset>
             <Header />
             <main className="flex-1 p-6">
               {children}
             </main>
           </SidebarInset>
         </SidebarProvider>
         ```

    Ensure `src/components/layout/` directory exists before writing files.

  </action>
  <verify>
    Run `pnpm dev` and check that http://localhost:3000 loads without errors.
    Run `npx tsc --noEmit --pretty` -- zero TypeScript errors.
    Verify sidebar renders with 7 navigation items.
  </verify>
  <done>
    App loads at localhost:3000 with sidebar showing 7 navigation items, header bar with branding, and main content area.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create placeholder dashboard page</name>
  <files>
    src/app/(dashboard)/page.tsx
  </files>
  <action>
    Create the root dashboard page at `src/app/(dashboard)/page.tsx`:
    - Import Card, CardContent, CardHeader, CardTitle from `@/components/ui/card`
    - Display a heading "CEO Dashboard" with subtitle "Apex Sahakari Bank Ltd"
    - Show a grid of 4 placeholder metric cards:
      1. "Compliance Score" -- "78%" with green indicator
      2. "Open Findings" -- "10" with yellow indicator
      3. "Audits in Progress" -- "2" with blue indicator
      4. "Overdue Items" -- "3" with red indicator
    - Below the cards, show a placeholder area for "Compliance Trend" chart and "Regulatory Calendar" with text "Chart placeholder - to be built in Phase 2"
    - Style: responsive grid (4 cols on lg, 2 on md, 1 on sm)
    - This is a placeholder -- the real dashboard with charts comes in Phase 2

    Use demo data imports where simple (e.g., `import { findings } from '@/data'` to count findings), but keep it minimal. Hardcoded values are fine for this placeholder.

  </action>
  <verify>
    Navigate to http://localhost:3000 -- dashboard page renders with 4 metric cards.
    Run `npx tsc --noEmit --pretty` -- zero errors.
  </verify>
  <done>
    Dashboard placeholder page shows at the root route with metric cards and chart placeholders. Navigation sidebar is visible.
  </done>
</task>

</tasks>

<verification>
1. `pnpm dev` starts without errors
2. http://localhost:3000 shows sidebar with 7 nav items and dashboard content
3. Clicking sidebar items navigates (will show 404 for now -- that's expected, placeholder pages come in Plan 05)
4. SidebarTrigger works on mobile viewport
5. `npx tsc --noEmit --pretty` passes with zero errors
</verification>

<success_criteria>

- App loads at localhost:3000 with proper Inter font and theming
- Sidebar shows exactly 7 navigation items with correct icons
- Current route is highlighted in sidebar
- Header bar renders with menu trigger and user area
- Dashboard placeholder page displays metric cards
- NAV-01 (sidebar with 7 items) is satisfied
- NAV-04 (client-side routing) is enabled via Next.js App Router + Link components
  </success_criteria>

<output>
After completion, create `.planning/phases/01-project-setup/01-03-SUMMARY.md`
</output>
