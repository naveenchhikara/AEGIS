# Plan 04-04: Responsive Design Polish

**Wave:** 4 of 7
**Autonomous:** false (human verification checkpoint)
**Depends on:** 04-03 (language switcher working)
**Blocked by:** None

## Overview

Implement responsive design polish including mobile hamburger menu, touch target sizing, and comprehensive testing across device sizes. This wave ensures the prototype works seamlessly on mobile phones, tablets, and desktops.

## Tasks

### Task 1: Create MobileSidebar component with Sheet
1. Create `src/components/MobileSidebar.tsx`:
   - Client component using shadcn/ui Sheet
   - Menu icon (lucide-react) as trigger button
   - Visible only on mobile (`className="md:hidden"`)
   - Sheet slides in from left side
   - Contains all navigation items translated via `useTranslations('nav')`
   - Closes sheet when navigation item is clicked
2. Navigation items: Dashboard, Compliance Registry, Audit Plan, Findings, Board Report

### Task 2: Update sidebar layout for responsive behavior
1. Modify `src/components/Sidebar.tsx`:
   - Hide on mobile screens (`hidden md:flex`)
   - Visible on tablet and desktop (md breakpoint and above)
   - Desktop sidebar: fixed 256px width
   - Ensure proper z-index stacking
2. Update layout to accommodate both Sidebar (desktop) and MobileSidebar (mobile)

### Task 3: Add MobileSidebar to top bar
1. Import MobileSidebar in `src/components/TopBar.tsx`
2. Place hamburger menu button on left side of top bar
3. Show only on mobile (`md:hidden`)
4. Test: Clicking hamburger opens Sheet with navigation items

### Task 4: Ensure minimum touch target sizes (44x44px)
1. Audit all interactive elements:
   - Buttons in tables (View, Edit, Delete)
   - Status badge filters
   - Navigation links
   - Form inputs
   - Language switcher trigger
   - User profile dropdown
2. Ensure minimum 44x44px clickable area
3. Increase padding on small buttons using Tailwind:
   - `<Button size="icon" className="h-11 w-11">` for icon buttons
   - Add padding to link-based buttons
3. Test on mobile device or browser dev tools mobile emulation

### Task 5: Fix table horizontal scrolling on mobile
1. Add wrapper div around all data tables:
   ```tsx
   <div className="overflow-x-auto">
     <Table>...</Table>
   </div>
   ```
2. Apply to: Compliance Registry table, Findings table, Audit Plan table
3. Ensure table headers remain sticky on horizontal scroll (optional enhancement)
4. Test: Scrolling table horizontally on phone works smoothly

### Task 6: Responsive dashboard grid
1. Update dashboard page layout:
   - Desktop: 3-column grid for count cards
   - Tablet: 2-column grid
   - Mobile: Single column stack
2. Use Tailwind responsive classes:
   - `grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`
3. Apply similar responsive patterns to:
   - Audit Plan engagement cards
   - Findings severity cards
   - Compliance category breakdown

### Task 7: Print stylesheet for board report
1. Create `src/app/[locale]/report/print.css`:
   - Hide sidebar, top bar, language switcher (`.no-print` class)
   - Set `@page { size: A4; margin: 15mm; }`
   - Avoid page breaks inside cards/sections (`page-break-inside: avoid`)
   - Page break before major sections
   - Print link URLs after anchor text
   - Set font size to 10pt for print
2. Import print stylesheet in report page
3. Add "Print / Export PDF" button that calls `window.print()`
4. Test: Print preview shows clean, properly formatted report

### Task 8: Human verification checkpoint - responsive testing
1. **Desktop testing (1920x1080)**:
   - Sidebar visible on left
   - Top bar spans full width
   - All widgets visible without scrolling
   - Tables render correctly

2. **Tablet testing (768x1024)**:
   - Layout adapts to 2-column grids
   - Sidebar still visible
   - Touch targets workable

3. **Mobile testing (375x667)**:
   - Hamburger menu visible and functional
   - Sidebar hidden by default
   - Tables scroll horizontally without breaking layout
   - All buttons tappable (44x44px minimum)
   - No horizontal scroll on page itself
   - Dashboard stacks in single column

4. **Cross-browser testing**:
   - Chrome (desktop)
   - Safari (desktop + iOS)
   - Firefox (desktop)

5. **Print testing**:
   - Open board report
   - Click "Print / Export PDF"
   - Verify preview hides navigation
   - Verify page breaks don't cut content
   - Verify A4 formatting looks professional

## Must Haves

- Mobile hamburger menu opens Sheet with all navigation items
- Desktop sidebar visible, mobile sidebar hidden
- All buttons meet 44x44px minimum touch target
- Tables scroll horizontally on mobile without breaking layout
- Dashboard adapts to single column on mobile
- Board report print preview formats correctly
- No horizontal page scrolling on any device size
- All functionality works on mobile phones

## Artifacts Created

| File | Purpose |
|------|---------|
| `src/components/MobileSidebar.tsx` | Sheet-based mobile navigation menu |
| `src/components/Sidebar.tsx` | Updated with responsive visibility classes |
| `src/components/TopBar.tsx` | Updated with hamburger menu button |
| `src/app/[locale]/report/print.css` | Print stylesheet for board reports |
| All table wrappers | Updated with overflow-x-auto divs |
| Dashboard page | Updated with responsive grid classes |

## Key Links

- `TopBar.tsx` → renders `MobileSidebar` on mobile screens
- `MobileSidebar.tsx` → uses shadcn/ui Sheet component
- Print styles → `.no-print` class applied to navigation elements
- Responsive grids → Tailwind `md:`, `lg:` breakpoints

---

*Wave 4 completes responsive design. Wave 5 begins AWS deployment setup.*
