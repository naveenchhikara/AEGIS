---
phase: 04-polish-deploy
plan: 07
type: execute
wave: 4
depends_on: ["04-02", "04-03", "04-04", "04-06"]
files_modified:
  - deploy/demo-script-15min.md
  - deploy/demo-script-30min.md
autonomous: false

must_haves:
  truths:
    - "Application is deployed and accessible via production URL"
    - "All screens load correctly on production"
    - "Language switching works on production"
    - "Demo works on mobile devices"
    - "Demo works on tablets"
    - "15-minute and 30-minute demo scripts exist"
  artifacts:
    - path: "deploy/demo-script-15min.md"
      provides: "15-minute demo flow for client presentations"
      min_lines: 40
    - path: "deploy/demo-script-30min.md"
      provides: "30-minute detailed demo flow"
      min_lines: 80
  key_links:
    - from: "Production URL"
      to: "All screens"
      via: "Client-side navigation"
      pattern: "localhost:3000|STATIC_IP"
    - from: "deploy/deploy.sh"
      to: "PM2 process"
      via: "pnpm build + pm2 reload"
      pattern: "pm2 reload|pm2 start"
---

<objective>
Deploy the application to production, run end-to-end smoke tests on all screens across devices, and create demo scripts for client presentations.

Purpose: Fulfill remaining success criteria: deployed to AWS, production URL works, demo scripts ready.
Output: Live application on production URL, verified across devices, with ready-to-use demo scripts.
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/04-polish-deploy/04-RESEARCH.md
@.planning/phases/04-polish-deploy/04-05-SUMMARY.md
@.planning/phases/04-polish-deploy/04-06-SUMMARY.md
@deploy/deploy.sh
@deploy/ecosystem.config.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Deploy application and create demo scripts</name>
  <files>
    deploy/demo-script-15min.md
    deploy/demo-script-30min.md
  </files>
  <action>
    1. **Deploy the application:**
       SSH into the server and run the deployment:
       ```bash
       ssh -i ~/.ssh/aegis-lightsail.pem ubuntu@STATIC_IP
       cd /home/ubuntu/aegis
       git pull origin main
       pnpm install --frozen-lockfile
       pnpm build
       pm2 start deploy/ecosystem.config.js  # or pm2 reload if already running
       pm2 save
       ```
       Verify the app is running: `curl -s http://localhost:3000 | head -20`

    2. **Create `deploy/demo-script-15min.md`** -- Quick demo for busy CEOs:
       Structure:
       - **Intro** (2 min): What is AEGIS, why UCBs need it, compliance burden context
       - **Dashboard** (3 min): Show compliance health score, donut chart, risk panel, calendar widget. "This is what your CEO sees every morning."
       - **Compliance Registry** (3 min): Filter by category, show status badges, click a requirement to see details. "Every RBI requirement in one place."
       - **Audit Plans** (2 min): Show calendar view, engagement cards with progress. "Your annual audit plan, always up to date."
       - **Findings** (2 min): Filter by severity, show critical findings. "Track every finding from observation to closure."
       - **Board Report** (2 min): Show executive summary, print preview. "One-click board report generation."
       - **Language Demo** (1 min): Switch to Hindi, show labels change. "Works in your preferred language."

       Include for each screen:
       - Exact URL to navigate to
       - What to click/show
       - Talking point (what to say)
       - Key value proposition to highlight

    3. **Create `deploy/demo-script-30min.md`** -- Detailed demo for evaluation committee:
       Everything from 15-min version PLUS:
       - **Deep dive into compliance** (5 min): Walk through multiple requirements, explain status workflow, show evidence tracking concept
       - **Audit planning workflow** (5 min): Show different audit types, team assignments, progress tracking
       - **Finding lifecycle** (5 min): Walk through a finding from draft to closure, show timeline, root cause analysis, action plans
       - **Multi-language** (3 min): Demo all 4 languages, show banking terminology in Hindi/Marathi
       - **Mobile demo** (2 min): Open on phone, show responsive design
       - **Q&A** (remaining time): Common questions and answers

       Include:
       - Setup checklist (browser tab ready, mobile device connected)
       - Fallback plan (if demo breaks, screenshots in a PDF)
       - Common objections and responses
       - Next steps slide (pilot program, timeline, pricing concept)

  </action>
  <verify>
    - `curl -s http://STATIC_IP` returns HTML content (or `curl -s https://DOMAIN` if SSL configured)
    - `deploy/demo-script-15min.md` exists with structured demo flow
    - `deploy/demo-script-30min.md` exists with detailed demo flow
    - Both scripts reference actual URLs and screen names
  </verify>
  <done>Application deployed to production, demo scripts created for 15-min and 30-min presentations</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <name>Task 2: End-to-end production verification</name>
  <what-built>
    Complete application deployed to AWS Lightsail Mumbai with:
    - All 7 screens accessible via navigation
    - Multi-language support (EN/HI/MR/GU)
    - Responsive design across devices
    - Print preview for board report
    - Demo scripts for client presentations
  </what-built>
  <how-to-verify>
    **Desktop verification (Chrome/Firefox):**
    1. Visit production URL (http://STATIC_IP or https://DOMAIN)
    2. Login page loads -- click "Sign In" to enter
    3. Dashboard loads with all widgets (health score, charts, cards)
    4. Click through ALL navigation items: Compliance, Audit Plans, Findings, Reports, Auditee, Settings
    5. Each page loads with real demo data
    6. Switch language to Hindi -- all labels change to Hindi
    7. Switch to Marathi -- labels change to Marathi
    8. Switch to Gujarati -- labels change to Gujarati
    9. Switch back to English -- verify all labels restore
    10. On Reports page, click Print Preview -- verify clean output

    **Mobile verification (iPhone/Android):**
    11. Open production URL on phone
    12. Sidebar is collapsed (hamburger menu visible)
    13. Tap hamburger -- sidebar slides out
    14. Navigate to Dashboard -- widgets stack vertically
    15. Navigate to Compliance -- table scrolls horizontally
    16. No horizontal page scrolling on any screen

    **Tablet verification (iPad):**
    17. Open production URL on tablet
    18. Dashboard shows 2-column grid
    19. Tables show more columns than mobile
    20. Navigation works smoothly

    Report any issues found.

  </how-to-verify>
  <resume-signal>Type "approved" if all checks pass, or describe issues found</resume-signal>
</task>

</tasks>

<verification>
1. Production URL is accessible
2. All 7 screens load with demo data
3. Language switching works (EN/HI/MR/GU)
4. Responsive design works on mobile and tablet
5. Print preview produces clean output
6. Demo scripts are comprehensive and actionable
</verification>

<success_criteria>

- Application deployed and accessible via production URL
- All screens verified on desktop, mobile, and tablet
- Language switching verified across all 4 locales
- Print preview verified on reports page
- 15-min and 30-min demo scripts created
- Phase 4 complete: Polish & Deploy done
  </success_criteria>

<output>
After completion, create `.planning/phases/04-polish-deploy/04-07-SUMMARY.md`
</output>
