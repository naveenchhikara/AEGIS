---
phase: 01-project-setup
plan: 04
type: execute
wave: 4
depends_on: [01-03]
files_modified:
  - src/app/(auth)/layout.tsx
  - src/app/(auth)/login/page.tsx
  - src/components/auth/login-form.tsx
  - src/lib/constants.ts
autonomous: false

must_haves:
  truths:
    - Login screen displays at /login route
    - Login form has email field, password field, language selector, MFA prompt
    - Login with valid email redirects to dashboard
    - Page has no sidebar (auth layout)
  artifacts:
    - path: "src/app/(auth)/layout.tsx"
      provides: "Auth layout without sidebar"
      contains: "children only, no navigation"
    - path: "src/app/(auth)/login/page.tsx"
      provides: "Login page route"
      contains: "LoginForm component"
    - path: "src/components/auth/login-form.tsx"
      provides: "Login form component"
      contains: "email input, password input, language selector, MFA prompt, submit button"
  key_links:
    - from: "src/app/(auth)/login/page.tsx"
      to: "/dashboard"
      via: "router.push after successful login"
      pattern: "router.push.*dashboard"
---

<objective>
Create login screen with authentication layout.

Purpose: Build the entry point to the application with a clean login form including email/password fields, language selector (EN/HI/MR/GU), MFA prompt UI, and demo authentication that redirects to dashboard on valid email.

Output: Working login screen at /login with demo auth flow
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-project-setup/01-CONTEXT.md
@.planning/phases/01-project-setup/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create auth layout without sidebar</name>
  <files>src/app/(auth)/layout.tsx</files>
  <action>
    Create src/app/(auth)/layout.tsx for auth pages (no sidebar):

    1. Use route group (auth) to separate from dashboard layout
    2. Layout should be minimal - just render children in a centered container
    3. Add metadata for the app
    4. Use Inter font (or default Next.js font)
    5. Background should be neutral/enterprise color (slate/gray)

    Structure:
    - Import { Inter } from 'next/font/google'
    - Export default function AuthLayout({ children })
    - Return centered children with min-h-screen
  </action>
  <verify>File exists at src/app/(auth)/layout.tsx with minimal centered layout</verify>
  <done>Auth layout created - pages in (auth) group have no sidebar</done>
</task>

<task type="auto">
  <name>Task 2: Create language constants</name>
  <files>src/lib/constants.ts</files>
  <action>
    Create src/lib/constants.ts with language options:

    export const LANGUAGES = {
      en: { code: 'en', name: 'English', flag: 'üá¨üáß' },
      hi: { code: 'hi', name: '‡§π‡§ø‡§Ç‡§¶‡•Ä', flag: 'üáÆüá≥' },
      mr: { code: 'mr', name: '‡§Æ‡§∞‡§æ‡§†‡•Ä', flag: 'üáÆüá≥' },
      gu: { code: 'gu', name: '‡™ó‡´Å‡™ú‡™∞‡™æ‡™§‡´Ä', flag: 'üáÆüá≥' },
    } as const

    export type LanguageCode = keyof typeof LANGUAGES

    export const APP_NAME = 'AEGIS'
    export const APP_TAGLINE = 'UCB Internal Audit & Compliance Platform'
  </action>
  <verify>File exists with LANGUAGES constant containing 4 languages (EN/HI/MR/GU)</verify>
  <done>Language constants defined for login selector</done>
</task>

<task type="auto">
  <name>Task 3: Create login form component</name>
  <files>src/components/auth/login-form.tsx</files>
  <action>
    Create src/components/auth/ directory and login-form.tsx:

    1. Add "use client" directive (needs useState, router)
    2. Import: Button, Input, Label, Card from @/components/ui
    3. Import: useRouter from 'next/navigation'
    4. Import: LANGUAGES from '@/lib/constants'
    5. Import: Mail, Lock, Globe icons from lucide-react

    Component state:
    - email: string
    - password: string
    - mfaCode: string
    - language: LanguageCode
    - isLoading: boolean

    Form elements:
    - Logo placeholder (APP_NAME text or simple icon)
    - Language selector dropdown (prominent, top of form)
    - Email input with Mail icon
    - Password input with Lock icon
    - MFA code input with "Enter code from authenticator app" label
    - Login button

    Submit handler:
    - Validate email format (simple regex)
    - If valid: router.push('/dashboard')
    - If invalid: show error (can use console.log for now, toast later)

    Styling:
    - Enterprise feel - professional colors (slate/blue)
    - Centered card with shadow
    - Full width on mobile, max-w-md on desktop
  </action>
  <verify>Component exists at src/components/auth/login-form.tsx with all form elements</verify>
  <done>Login form component with email, password, MFA, language selector created</done>
</task>

<task type="auto">
  <name>Task 4: Create login page route</name>
  <files>src/app/(auth)/login/page.tsx</files>
  <action>
    Create src/app/(auth)/login/page.tsx:

    1. Import LoginForm from '@/components/auth/login-form'
    2. Export default function LoginPage()
    3. Return page with:
       - Meta title "Login - AEGIS"
       - Centered LoginForm component
       - Optional footer with copyright
    4. Page should use auth layout (no sidebar)
  </action>
  <verify>Page exists at src/app/(auth)/login/page.tsx rendering LoginForm</verify>
  <done>Login page route created at /login</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>Login screen with demo authentication at /login route</what-built>
  <how-to-verify>
    1. Start dev server: pnpm dev
    2. Visit http://localhost:3000/login
    3. Verify:
       - Page loads without errors
       - Login form is centered with professional styling
       - Email field, password field, MFA field visible
       - Language selector dropdown shows EN/HI/MR/GU options
       - Enter any valid email (e.g., test@example.com) and any password
       - Click login - should redirect to /dashboard (will 404, that's expected)
    4. Try invalid email format - should not redirect
  </how-to-verify>
  <resume-signal>Type "approved" if login screen works, or describe issues</resume-signal>
</task>

</tasks>

<verification>
- Route group (auth) created for pages without sidebar
- Login form component is client-side with "use client"
- Form validation works (email format check)
- Valid email redirects to /dashboard
- Language selector displays all 4 options
</verification>

<success_criteria>
- Login screen accessible at /login
- Form has email, password, MFA fields, language selector
- Valid email redirects to dashboard
- Page has no sidebar (auth layout)
- Professional enterprise styling
</success_criteria>

<output>
After completion, create `.planning/phases/01-project-setup/01-04-SUMMARY.md`
</output>
