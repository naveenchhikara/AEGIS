---
phase: 01-project-setup
plan: 04
type: execute
wave: 2
depends_on: ["01-01"]
files_modified:
  - src/app/(auth)/layout.tsx
  - src/app/(auth)/login/page.tsx
  - src/components/auth/login-form.tsx
autonomous: true

must_haves:
  truths:
    - "Login page renders at /login with AEGIS logo/name, email field, password field, and MFA prompt"
    - "Language selector dropdown shows EN, HI, MR, GU options"
    - "Submitting any valid email format redirects to dashboard (/)"
    - "Login page has its own layout without sidebar navigation"
  artifacts:
    - path: "src/app/(auth)/layout.tsx"
      provides: "Auth layout without sidebar (centered card layout)"
      min_lines: 10
    - path: "src/app/(auth)/login/page.tsx"
      provides: "Login page component"
    - path: "src/components/auth/login-form.tsx"
      provides: "Login form with email, password, MFA prompt, language selector"
      min_lines: 60
  key_links:
    - from: "src/components/auth/login-form.tsx"
      to: "next/navigation"
      via: "useRouter for redirect"
      pattern: "useRouter|router\\.push"
    - from: "src/app/(auth)/login/page.tsx"
      to: "src/components/auth/login-form.tsx"
      via: "import LoginForm"
      pattern: "import.*LoginForm"
---

<objective>
Build the login screen with authentication layout.

Purpose: Satisfies AUTH-01 (login screen with logo, email/password, MFA prompt), AUTH-02 (language selector), and AUTH-03 (demo login accepts any email and redirects). The login page uses a separate (auth) route group with a centered card layout (no sidebar).

Output: Working login page at /login that accepts demo credentials and redirects to the dashboard.
</objective>

<execution_context>
@/Users/admin/.claude/get-shit-done/workflows/execute-plan.md
@/Users/admin/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/STATE.md
@.planning/phases/01-project-setup/01-01-SUMMARY.md

Depends on Plan 01 outputs:

- src/app/globals.css (theme CSS)
- src/lib/utils.ts (cn utility)
- src/lib/icons.ts (icons)
- src/components/ui/button.tsx, input.tsx, label.tsx, card.tsx, dropdown-menu.tsx

Key decisions:

- Demo login: accept any valid email format, no real authentication
- Language selector: EN/HI/MR/GU options (UI only, no actual translations yet -- Phase 4)
- (auth) route group: separate from (dashboard), no sidebar
- MFA prompt: UI-only (show a field/section, but don't actually validate)
  </context>

<tasks>

<task type="auto">
  <name>Task 1: Create auth layout and login page</name>
  <files>
    src/app/(auth)/layout.tsx
    src/app/(auth)/login/page.tsx
    src/components/auth/login-form.tsx
  </files>
  <action>
    Create three files:

    1. **src/app/(auth)/layout.tsx** -- Auth layout (no sidebar):
       - Simple centered layout: `flex min-h-screen items-center justify-center bg-muted/40`
       - Wraps children in the centered container
       - No sidebar, no header -- clean auth experience

    2. **src/components/auth/login-form.tsx** -- Login form component:
       - "use client" directive (uses state and router)
       - Import `useRouter` from `next/navigation`
       - Import `useState` from `react`
       - Import UI components: Card (CardHeader, CardContent, CardFooter), Button, Input, Label
       - Import icons: Lock, Globe, Eye, EyeOff from `@/lib/icons`

       **Form layout:**
       - Card with max-w-md, centered
       - CardHeader:
         - AEGIS logo area: Large text "AEGIS" in primary color with a Shield icon, plus subtitle "Audit & Compliance Platform"
         - Below the logo: "Urban Cooperative Bank" subtitle text

       - CardContent with form:
         - **Language selector:** A dropdown button at top-right of the card (or above the form) showing current language (default "English"). Dropdown options: English, Hindi (हिन्दी), Marathi (मराठी), Gujarati (ગુજરાતી). Use a simple state toggle -- clicking changes the displayed language name but doesn't translate anything yet. Use DropdownMenu from shadcn/ui.
         - **Email field:** Label "Email Address", Input type="email", placeholder "name@bank.co.in"
         - **Password field:** Label "Password", Input type="password" with show/hide toggle (Eye/EyeOff icon button), placeholder "Enter your password"
         - **MFA section:** After password, show a subtle section:
           - Label "MFA Code (if enabled)"
           - Input type="text" with placeholder "Enter 6-digit code" maxLength=6, pattern for digits only
           - Small helper text: "Required for administrator accounts"
         - **Submit button:** Full-width Button with "Sign In" text, variant="default"
         - **Demo notice:** Below the button, small muted text: "Demo Mode: Enter any valid email to sign in"

       **Form submission logic:**
       - `onSubmit` handler:
         - Prevent default
         - Basic email validation (simple regex or HTML5 validation via type="email")
         - If email is valid: call `router.push("/")` to redirect to dashboard
         - Show a brief loading state on the button (optional: 500ms delay for realism)
       - No actual API calls -- this is a demo prototype

       - CardFooter:
         - Small text: "Powered by AEGIS Platform" with muted styling

    3. **src/app/(auth)/login/page.tsx** -- Login page:
       - Import and render `LoginForm` from `@/components/auth/login-form`
       - Export metadata: `{ title: "Sign In - AEGIS" }`

    Ensure directories exist: `mkdir -p src/app/(auth)/login src/components/auth`

  </action>
  <verify>
    Run `pnpm dev` and navigate to http://localhost:3000/login
    - Login page renders with AEGIS branding, email/password fields, MFA section, language selector
    - Enter any email and submit -- redirects to /
    - Language dropdown shows 4 options
    Run `npx tsc --noEmit --pretty` -- zero errors.
  </verify>
  <done>
    Login page at /login shows complete auth form with branding, language selector, MFA prompt. Submitting any valid email redirects to dashboard. AUTH-01, AUTH-02, AUTH-03 satisfied.
  </done>
</task>

</tasks>

<verification>
1. http://localhost:3000/login renders login form
2. AEGIS logo/branding visible at top of login card
3. Email field, password field (with show/hide toggle), MFA code field visible
4. Language dropdown shows EN, HI, MR, GU options
5. Entering "test@bank.co.in" and submitting redirects to /
6. Login page uses auth layout (centered, no sidebar)
7. `npx tsc --noEmit --pretty` passes
</verification>

<success_criteria>

- AUTH-01: Login screen displays with logo, email/password, MFA prompt -- YES
- AUTH-02: Language selector shows EN/HI/MR/GU -- YES
- AUTH-03: Demo login accepts any valid email and redirects to dashboard -- YES
- Login page has separate layout from dashboard
- TypeScript compiles without errors
  </success_criteria>

<output>
After completion, create `.planning/phases/01-project-setup/01-04-SUMMARY.md`
</output>
